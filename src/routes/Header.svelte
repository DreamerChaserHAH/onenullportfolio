<script>
	import { page } from '$app/stores';
	import logo from '$lib/images/onenulllogo.png';

	let isMenuOpen = false;

	function handleMenuOpen() {
		isMenuOpen = true
		document.body.addEventListener('click', handleMenuClose)
	}
	function handleMenuClose() {
		isMenuOpen = false
		document.body.removeEventListener('click', handleMenuClose)
	}

</script>
<div class="fixed z-50 w-full h-12 bg-primary md:hidden">
	<button class="absolute right-0 " on:click|stopPropagation={handleMenuOpen}>
	<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="none" viewBox="0 0 24 24">
	  <path
		stroke="currentColor"
		stroke-linecap="round"
		stroke-linejoin="round"
		stroke-width="2"
		d="M4 6h16M4 12h16m-7 6h7"
	  ></path>
	</svg>
</button>
</div>
<header  class={`h-full ${isMenuOpen ? 'fixed' : 'hidden'} duration-300 transition-all lg:flex lg:fixed h-screen overflow-hidden w-36 bg-primary z-20`}>
	<nav>
		<div class="flex-col justify-around h-full px-4 lg:flex">
			<div class="flex flex-col gap-1 pt-10">
				<a  href="/" class="mt-4 cursor-pointer min-w-4 mb-9">
					<picture>
						<source srcset={logo} type="image/webp" />
						<img src={logo} alt="logo" />
					</picture>
				</a>
				<ul class="relative flex flex-col items-start justify-center p-0 m-0 space-y-6">
					<li aria-current={$page.url.pathname === '/' ? 'page' : undefined} class="relative h-full">
						<a class={` text-xl leading-8 text-center font-space ${$page.url.pathname === '/' ? 'font-extrabold' : 'font-normal'} uppercase`} href="/">Home</a>
					</li>
					<li aria-current={$page.url.pathname === '/about' ? 'page' : undefined} class="relative h-full">
						<a class={` font-space text-xl leading-8 text-center ${$page.url.pathname === '/about' ? 'font-extrabold' : 'font-normal'} uppercase`} href="/about">About Us</a>
					</li>
					<li aria-current={$page.url.pathname === '/works' ? 'page' : undefined} class="relative h-full">
						<a class={` font-space text-xl leading-8 text-center ${$page.url.pathname === '/works' ? 'font-extrabold' : 'font-normal'} uppercase`} href="/works">Works</a>
					</li>
					<li aria-current={$page.url.pathname === '/contact' ? 'page' : undefined} class="relative h-full">
						<a class={` font-space text-xl leading-8 text-center ${$page.url.pathname === '/contact' ? 'font-extrabold' : 'font-normal'} uppercase`} href="/contact">Contact</a>
					</li>
				</ul>
			</div>
			<div class="flex flex-col items-start justify-between gap-12 ">
				<div class="flex flex-col items-start justify-between w-10 space-y-5 ">
					<a href="/#">
						<svg xmlns="http://www.w3.org/2000/svg" width="41" height="41" viewBox="0 0 41 41" fill="none">
							<circle cx="20.4209" cy="20.9513" r="20" fill="black"/>
							<path d="M23.7849 14.8773H29.2746V16.2274H23.7849V14.8773ZM18.2842 20.219C19.4977 19.6305 20.1333 18.7351 20.1333 17.3515C20.1333 14.6151 18.1246 13.9513 15.8049 13.9513H9.4209V27.6863H15.9837C18.4438 27.6863 20.7525 26.4868 20.7525 23.6974C20.7525 21.9736 19.949 20.6988 18.2842 20.219ZM12.3983 16.2944H15.1913C16.2672 16.2944 17.233 16.5984 17.233 17.8648C17.233 19.0308 16.4818 19.4994 15.4169 19.4994H12.3983V16.2944ZM15.5765 25.3543H12.3955V21.5719H15.6398C16.9496 21.5719 17.7779 22.127 17.7779 23.5329C17.7779 24.9164 16.79 25.3543 15.5765 25.3543ZM31.4209 22.8578C31.4209 19.915 29.7231 17.4631 26.6522 17.4631C23.6666 17.4631 21.6358 19.7421 21.6358 22.7295C21.6358 25.8257 23.5592 27.9513 26.6522 27.9513C28.9939 27.9513 30.5101 26.8829 31.2393 24.604H28.8645C28.6059 25.4548 27.5547 25.9011 26.7375 25.9011C25.158 25.9011 24.3325 24.9638 24.3325 23.3711H31.4016C31.4099 23.2065 31.4209 23.0336 31.4209 22.8578ZM24.3325 21.6472C24.4178 20.339 25.2791 19.5217 26.5669 19.5217C27.9207 19.5217 28.5976 20.3278 28.716 21.6472H24.3325Z" fill="white"/>
						</svg>
					</a>
					<a href="/#">
						<svg xmlns="http://www.w3.org/2000/svg" width="41" height="41" viewBox="0 0 41 41" fill="none">
							<circle cx="20.4209" cy="20.9513" r="20" fill="black"/>
							<path d="M29.0809 15.9313C28.1869 14.3983 26.9739 13.1843 25.4399 12.2913C23.9069 11.3983 22.2339 10.9513 20.4209 10.9513C18.6079 10.9513 16.9349 11.3983 15.4009 12.2913C13.8679 13.1843 12.6539 14.3983 11.7609 15.9313C10.8679 17.4643 10.4209 19.1383 10.4209 20.9513C10.4209 22.7643 10.8669 24.4383 11.7609 25.9713C12.6549 27.5053 13.8679 28.7183 15.4019 29.6113C16.9349 30.5043 18.6079 30.9513 20.4209 30.9513C22.2339 30.9513 23.9069 30.5043 25.4409 29.6113C26.9739 28.7183 28.1879 27.5053 29.0819 25.9713C29.9749 24.4383 30.4209 22.7643 30.4209 20.9513C30.4209 19.1383 29.9749 17.4643 29.0809 15.9313ZM20.4209 12.6113C22.4209 12.6113 24.1929 13.2513 25.7409 14.5303C24.8209 15.7043 23.4549 16.6703 21.6409 17.4303C20.6389 15.6173 19.5529 14.1033 18.3799 12.8903C19.0619 12.7043 19.7399 12.6113 20.4209 12.6113ZM13.9309 15.7513C14.6849 14.8043 15.5869 14.0653 16.6419 13.5313C17.8539 14.7323 18.9669 16.2313 19.9819 18.0313C17.9819 18.6313 15.8679 18.9313 13.6409 18.9313C13.0679 18.9313 12.6349 18.9183 12.3409 18.8913C12.6479 17.7443 13.1779 16.6983 13.9309 15.7513ZM12.0809 20.9513C12.0809 20.8973 12.0839 20.8313 12.0909 20.7513C12.0979 20.6713 12.1009 20.6053 12.1009 20.5513C12.3549 20.5653 12.7419 20.5713 13.2619 20.5713C15.9279 20.5713 18.4079 20.2043 20.7009 19.4713C20.8879 19.8443 21.0819 20.2643 21.2809 20.7313C19.9609 21.0243 18.6069 21.7373 17.2199 22.8713C15.8329 24.0053 14.8209 25.1983 14.1809 26.4513C12.7809 24.8643 12.0809 23.0313 12.0809 20.9513ZM20.4209 29.2913C18.5269 29.2913 16.8269 28.7043 15.3199 27.5323C15.9209 26.3453 16.8439 25.2103 18.0909 24.1313C19.3369 23.0513 20.5739 22.3783 21.8009 22.1113C22.5729 24.2443 23.0939 26.4503 23.3609 28.7313C22.3869 29.1043 21.4069 29.2913 20.4209 29.2913ZM27.5009 25.3313C26.8349 26.3973 25.9749 27.2713 24.9209 27.9523C24.6809 25.8723 24.2209 23.8453 23.5419 21.8713C24.4739 21.8053 25.3069 21.7713 26.0419 21.7713C26.8409 21.7713 27.7279 21.8053 28.7009 21.8713C28.5669 23.1113 28.1669 24.2643 27.5009 25.3313ZM26.2609 20.3313C25.1009 20.3313 24.0279 20.3783 23.0409 20.4713C22.7869 19.8183 22.5609 19.2783 22.3609 18.8513C24.4269 17.9453 25.8929 16.8453 26.7599 15.5513C27.9599 16.9653 28.6139 18.5783 28.7199 20.3913C27.9079 20.3513 27.0879 20.3313 26.2609 20.3313Z" fill="white"/>
						</svg>
					</a>
					<a href="/#">
						<svg xmlns="http://www.w3.org/2000/svg" width="41" height="41" viewBox="0 0 41 41" fill="none">
							<circle cx="20.4209" cy="20.9513" r="20" fill="black"/>
							<path d="M30.4011 16.4586C30.3535 15.3679 30.179 14.618 29.929 13.9683C29.671 13.2786 29.2742 12.6611 28.7543 12.1477C28.2463 11.6264 27.6312 11.2213 26.9566 10.9647C26.3098 10.7121 25.5717 10.5357 24.4923 10.4876C23.4049 10.4354 23.0596 10.4234 20.3016 10.4234C17.5436 10.4234 17.1984 10.4354 16.115 10.4835C15.0356 10.5316 14.2936 10.7082 13.6507 10.9607C12.968 11.2213 12.357 11.6223 11.849 12.1477C11.3331 12.6611 10.9324 13.2826 10.6783 13.9644C10.4283 14.618 10.2537 15.3638 10.2061 16.4546C10.1545 17.5534 10.1426 17.9023 10.1426 20.6893C10.1426 23.4764 10.1545 23.8253 10.2021 24.9201C10.2497 26.0108 10.4244 26.7607 10.6744 27.4104C10.9324 28.1001 11.3331 28.7176 11.849 29.231C12.357 29.7523 12.9721 30.1574 13.6467 30.414C14.2936 30.6666 15.0316 30.843 16.1111 30.8911C17.1944 30.9394 17.5397 30.9513 20.2977 30.9513C23.0558 30.9513 23.401 30.9394 24.4844 30.8911C25.5637 30.843 26.3058 30.6666 26.9486 30.414C28.3139 29.8806 29.3932 28.7898 29.9211 27.4104C30.1709 26.7567 30.3456 26.0108 30.3932 24.9201C30.4408 23.8253 30.4528 23.4764 30.4528 20.6893C30.4528 17.9023 30.4487 17.5534 30.4011 16.4586ZM28.5718 24.8399C28.5281 25.8424 28.3615 26.3838 28.2226 26.7447C27.8812 27.639 27.1788 28.3487 26.2939 28.6937C25.9367 28.834 25.3971 29.0024 24.4089 29.0464C23.3374 29.0947 23.0161 29.1066 20.3056 29.1066C17.5952 29.1066 17.2698 29.0947 16.2023 29.0464C15.2102 29.0024 14.6744 28.834 14.3173 28.6937C13.8769 28.5292 13.476 28.2685 13.1506 27.9277C12.8133 27.5948 12.5554 27.1938 12.3926 26.7487C12.2537 26.3878 12.0871 25.8424 12.0435 24.8439C11.9958 23.7612 11.984 23.4363 11.984 20.6973C11.984 17.9584 11.9958 17.6296 12.0435 16.5509C12.0871 15.5484 12.2537 15.007 12.3926 14.6461C12.5554 14.2009 12.8133 13.796 13.1547 13.467C13.4839 13.1261 13.8808 12.8655 14.3213 12.7012C14.6785 12.5608 15.2182 12.3924 16.2063 12.3482C17.2777 12.3002 17.5992 12.2881 20.3095 12.2881C23.024 12.2881 23.3453 12.3002 24.4129 12.3482C25.405 12.3924 25.9407 12.5608 26.2979 12.7012C26.7383 12.8655 27.1392 13.1261 27.4645 13.467C27.8018 13.7999 28.0598 14.2009 28.2226 14.6461C28.3615 15.007 28.5281 15.5523 28.5718 16.5509C28.6194 17.6336 28.6313 17.9584 28.6313 20.6973C28.6313 23.4363 28.6194 23.7571 28.5718 24.8399Z" fill="white"/>
							<path d="M20.3 15.4162C17.419 15.4162 15.0815 17.7781 15.0815 20.6896C15.0815 23.601 17.419 25.9629 20.3 25.9629C23.1811 25.9629 25.5184 23.601 25.5184 20.6896C25.5184 17.7781 23.1811 15.4162 20.3 15.4162ZM20.3 24.1103C18.4309 24.1103 16.9149 22.5784 16.9149 20.6896C16.9149 18.8007 18.4309 17.2689 20.3 17.2689C22.1691 17.2689 23.685 18.8007 23.685 20.6896C23.685 22.5784 22.1691 24.1103 20.3 24.1103Z" fill="white"/>
							<path d="M26.945 15.2073C26.945 15.887 26.3996 16.4381 25.7268 16.4381C25.0542 16.4381 24.5088 15.887 24.5088 15.2073C24.5088 14.5274 25.0542 13.9764 25.7268 13.9764C26.3996 13.9764 26.945 14.5274 26.945 15.2073Z" fill="white"/>
						</svg>
					</a>
				</div>
			</div>
		</div>
	</nav>
</header>

<style>
	nav {
		display: flex;
	}

	li{
		z-index: 0;
		transition: 0.5s;
	}
	a{
		z-index: 1;
	}

	li[aria-current='page']::before {
    background-color: #15BFFD;
    --size: 4px;
    content: '';
    width: 100%;
    height: 0;
    position: absolute;
    top: calc(60% - var(--size));
    left: 0;
    border: var(--size) solid transparent;
    border-top: var(--size) solid var(--color-theme-1);
    z-index: -1; /* Set a negative z-index to place the pseudo-element behind the text */
    transition: width 1s;
	}


</style>
